# Auth-portal
___

Данный сервис является связующим звеном между двумя сервисами source-of-truth и business-app.
Основной функционал построен на идее соединение двух независимых сервисов. Этот функционал реализует
получение информации по определённому пользователю от сервиса source-of-truth, при наличии разрешения,
отображение этой информация, а также даёт пользователю возможность отключить сторонние сервисы, к которым
пользователь дал доступ на обработку своей информации, а также передача разрешённой информации клиентскому сервису,
в нашем случае это business-app.

## Запросы для взаимодействия с сервисом
___

__1. `/oauth/applications/register/`__

Страница для создания нового приложения, полученный Client id и Client secret будут необходимы для дальнейших запросов.

__2. `/api/v1/authorize/<client_id>`__

Запрос конструирует ссылку для авторизации в oauth системе и производит редирект на форму подтверждения
предоставленных данных.

__3. `/api/v1/token/refresh`__

Запрос для обновления токена доступа (Access token).
В POST запросе должны быть отправлены "client id" и "refresh token" пользователя.

__4. `/api/v1/users/`__

Запрос для администратора, который позволяет получить всех пользователей со сведениями,
к каким сервисам они подключены.

__5. `/api/v1/user_data/`__

Запрос, который возвращает json с разрешёнными данными о пользователе.
В запрос должен передаваться Access token пользователя

## .ENV
___
Файл .env должен содержать следующую структуру
```txt
DJANGO_SECRET_KEY = <SECRET_KEY>
USER_DB = <postgres_login>
PASSWORD_DB = <postgres_password>
OAUTH_PATH = <>
BASE_DATA_SERVICE_PATH = <>
```